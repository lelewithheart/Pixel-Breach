<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Breach - Tactical SWAT Shooter</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="game-container">
        <div id="left-panel">
            <div class="panel-section">
                <h3>PLAYER STATUS</h3>
                <div class="stat-line">
                    <span>Health:</span>
                    <span id="health-value">100</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill health-bar" id="health-bar" style="width: 100%"></div>
                </div>
                <div class="stat-line">
                    <span>Armor:</span>
                    <span id="armor-value">100</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill armor-bar" id="armor-bar" style="width: 100%"></div>
                </div>
                <div class="stat-line">
                    <span>Stamina:</span>
                    <span id="stamina-value">100</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill stamina-bar" id="stamina-bar" style="width: 100%"></div>
                </div>
            </div>

            <div class="panel-section">
                <h3>LOADOUT</h3>
                <div id="primary-weapon" class="weapon-slot active">
                    <div>PRIMARY: MP5</div>
                    <div>AMMO: 30/90</div>
                </div>
                <div id="secondary-weapon" class="weapon-slot">
                    <div>SECONDARY: M1911</div>
                    <div>AMMO: 7/21</div>
                </div>
                <div id="equipment-slot" class="weapon-slot">
                    <div>EQUIPMENT: FLASHBANG</div>
                    <div>QTY: 2</div>
                </div>
            </div>

            <div class="panel-section">
                <h3>OBJECTIVES</h3>
                <div id="objectives-list">
                    <div class="objective-item objective-incomplete">• Neutralize all hostiles</div>
                    <div class="objective-item objective-incomplete">• Rescue all hostages</div>
                    <div class="objective-item objective-incomplete">• Reach extraction point</div>
                </div>
            </div>

            <div class="panel-section">
                <h3>TACTICAL INFO</h3>
                <div class="stat-line">
                    <span>Enemies:</span>
                    <span id="enemy-count">0</span>
                </div>
                <div class="stat-line">
                    <span>Hostages:</span>
                    <span id="hostage-count">0</span>
                </div>
                <div class="stat-line">
                    <span>Stance:</span>
                    <span id="stance-value">STANDING</span>
                </div>
            </div>
        </div>

        <div id="center-panel">
            <canvas id="gameCanvas" width="800" height="600"></canvas>
            <div style="margin-top: 10px;">
                <button id="start-game">START GAME</button>
                <button id="open-loadout">LOADOUT</button>
                <button id="toggle-editor">LEVEL EDITOR</button>
                <button id="reset-game">RESET</button>
                <button id="back-to-menu-game">BACK TO MENU</button>
            </div>
        </div>

        <div id="right-panel">
            <div class="panel-section">
                <h3>MINIMAP</h3>
                <canvas id="minimap" width="180" height="180"></canvas>
            </div>

            <div class="panel-selection">
                <h3>AUDIO</h3>
                <div class="audio-controls">
                    <div class="stat-line">
                        <span>SFX:</span>
                        <button id="toggle-sfx" class="audio-btn active">ON</button>
                    </div>
                    <div class="stat-line">
                        <span>Music:</span>
                        <button id="toggle-music" class="audio-btn active">ON</button>
                    </div>
                    <div class="stat-line">
                        <span>Volume:</span>
                        <input type="range" id="master-volume" min="0" max="100" value="50" class="volume-slider">
                    </div>
                </div>
            </div>

            <div class="panel-section">
                <h3>CONTROLS</h3>
                <div id="controls-info">
                    <strong>MOVEMENT:</strong><br>
                    WASD - Move<br>
                    SHIFT - Sprint<br>
                    CTRL - Crouch<br>
                    <br>
                    <strong>COMBAT:</strong><br>
                    Mouse - Aim<br>
                    Left Click - Fire<br>
                    R - Reload<br>
                    1/2/3 - Switch Weapon<br>
                    <br>
                    <strong>TACTICAL:</strong><br>
                    E - Interact<br>
                    Q - Lean Left<br>
                    F - Lean Right<br>
                    Space - Use Equipment<br>
                </div>
            </div>

            <div id="level-editor" class="panel-section">
                <h3>LEVEL EDITOR</h3>
                <div class="editor-tools">
                    <button id="tool-wall" class="editor-tool">Wall</button>
                    <button id="tool-floor" class="editor-tool">Floor</button>
                    <button id="tool-enemy" class="editor-tool">Enemy</button>
                    <button id="tool-hostage" class="editor-tool">Hostage</button>
                    <button id="tool-cover" class="editor-tool">Cover</button>
                    <button id="tool-door" class="editor-tool">Door</button>
                    <button id="tool-lockeddoor" class="editor-tool">Locked</button>
                    <button id="tool-spawn" class="editor-tool">Spawn</button>
                    <button id="tool-exit" class="editor-tool">Exit</button>
                </div>
                <button id="save-level" style="margin-top: 10px;">SAVE LEVEL</button>
                <button id="load-level">LOAD LEVEL</button>
                <button id="clear-level">CLEAR LEVEL</button>
                <button id="back-to-menu-editor">BACK TO MENU</button>
            </div>
        </div>
    </div>

    <div id="loadout-modal" class="modal">
        <div class="modal-content">
            <h2>SELECT LOADOUT</h2>
            <h3 style="font-size: 14px; margin-top: 15px;">Primary Weapon:</h3>
            <div class="loadout-grid">
                <div class="loadout-option" data-type="primary" data-weapon="mp5">
                    <strong>MP5</strong><br>
                    Damage: 20<br>
                    ROF: 800 RPM<br>
                    Mag: 30
                </div>
                <div class="loadout-option" data-type="primary" data-weapon="m4a1">
                    <strong>M4A1</strong><br>
                    Damage: 30<br>
                    ROF: 700 RPM<br>
                    Mag: 30
                </div>
                <div class="loadout-option" data-type="primary" data-weapon="shotgun">
                    <strong>M870 Shotgun</strong><br>
                    Damage: 80<br>
                    ROF: 60 RPM<br>
                    Mag: 8
                </div>
                <div class="loadout-option" data-type="primary" data-weapon="sniper">
                    <strong>M24 Sniper</strong><br>
                    Damage: 100<br>
                    ROF: 40 RPM<br>
                    Mag: 5
                </div>
            </div>
            <h3 style="font-size: 14px; margin-top: 15px;">Secondary Weapon:</h3>
            <div class="loadout-grid">
                <div class="loadout-option" data-type="secondary" data-weapon="m1911">
                    <strong>M1911</strong><br>
                    Damage: 35<br>
                    Mag: 7
                </div>
                <div class="loadout-option" data-type="secondary" data-weapon="glock">
                    <strong>Glock 17</strong><br>
                    Damage: 25<br>
                    Mag: 17
                </div>
            </div>
            <h3 style="font-size: 14px; margin-top: 15px;">Equipment:</h3>
            <div class="loadout-grid">
                <div class="loadout-option" data-type="equipment" data-weapon="flashbang">
                    <strong>Flashbang</strong><br>
                    Stun enemies<br>
                    Qty: 2
                </div>
                <div class="loadout-option" data-type="equipment" data-weapon="smoke">
                    <strong>Smoke Grenade</strong><br>
                    Concealment<br>
                    Qty: 2
                </div>
                <div class="loadout-option" data-type="equipment" data-weapon="grenade">
                    <strong>Frag Grenade</strong><br>
                    Area damage<br>
                    Qty: 3
                </div>
                <div class="loadout-option" data-type="equipment" data-weapon="doormine">
                    <strong>Door Mine</strong><br>
                    Breach doors<br>
                    Qty: 2
                </div>
                <div class="loadout-option" data-type="equipment" data-weapon="breaching">
                    <strong>Breaching Charge</strong><br>
                    Destroy walls<br>
                    Qty: 1
                </div>
                <div class="loadout-option" data-type="equipment" data-weapon="medkit">
                    <strong>Medkit</strong><br>
                    Restore 50 HP<br>
                    Qty: 1
                </div>
            </div>
            <button id="confirm-loadout" style="margin-top: 20px;">CONFIRM LOADOUT</button>
            <button id="close-loadout">CANCEL</button>
        </div>
    </div>

    <!-- Home Screen -->
    <div id="home-screen" class="modal active">
        <div class="modal-content" style="text-align: center;">
            <h1 style="font-size: 36px; color: #0f0; margin-bottom: 30px;">PIXEL BREACH</h1>
            <h2 style="font-size: 18px; color: #888; margin-bottom: 40px;">Tactical SWAT Operations</h2>
            <button id="btn-campaign" style="font-size: 16px; padding: 15px; margin: 10px;">CAMPAIGN</button>
            <button id="btn-community" style="font-size: 16px; padding: 15px; margin: 10px;">COMMUNITY LEVELS</button>
            <button id="btn-editor-home" style="font-size: 16px; padding: 15px; margin: 10px;">LEVEL EDITOR</button>
            <button id="btn-loadout-home" style="font-size: 16px; padding: 15px; margin: 10px;">LOADOUT</button>
        </div>
    </div>

    <!-- Level Selector -->
    <div id="level-select-screen" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">SELECT MISSION</h2>
            <div id="mission-list" style="max-height: 400px; overflow-y: auto;"></div>
            <button id="back-to-home" style="margin-top: 20px;">BACK TO MENU</button>
        </div>
    </div>

    <!-- Community Levels Screen -->
    <div id="community-screen" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">COMMUNITY LEVELS</h2>
            <p style="margin-bottom: 15px;">Levels created by players using the Level Editor</p>
            <div id="community-list" style="max-height: 400px; overflow-y: auto;"></div>
            <button id="back-to-home-community" style="margin-top: 20px;">BACK TO MENU</button>
        </div>
    </div>

    <!-- Lockpick Minigame -->
    <div id="lockpick-screen" class="modal">
        <div class="modal-content" style="text-align: center;">
            <h2 style="margin-bottom: 20px;">LOCKPICK</h2>
            <p style="margin-bottom: 15px;">Press SPACE when the bar is in the green zone!</p>
            <div id="lockpick-container"
                style="width: 400px; height: 50px; background: #222; border: 2px solid #555; position: relative; margin: 20px auto;">
                <div id="lockpick-zone"
                    style="position: absolute; height: 100%; width: 60px; background: #0a0; left: 170px;"></div>
                <div id="lockpick-bar"
                    style="position: absolute; height: 100%; width: 20px; background: #00f; left: 0;"></div>
            </div>
            <div id="lockpick-message" style="margin-top: 15px; min-height: 20px; font-size: 14px;"></div>
            <button id="cancel-lockpick" style="margin-top: 20px;">CANCEL (Shoot Door Instead)</button>
        </div>
    </div>

    <script src="constants.js"></script>
    <script src="weapons.js"></script>
    <script src="maps-official.js"></script>
    <script src="maps-community.js"></script>
    <script src="classes.js"></script>
    <script src="audio.js"></script>
    <script src="game-logic.js"></script>
    <script src="ui.js"></script>
</body>

</html>